<div>
    <h1>Tarefa</h1>

    <ul>
        <li class="slide-step-1">Struct <code class="slide-step-1">futures::task::Task</code> permite acesso a uma tarefa
        <li class="slide-step-2">Permite acordar a tarefa, para indicar que uma operação associada a ela está pronta
            <ul>
                <li class="slide-step-3">Uma tarefa contém pelo menos uma operação</li>
                <li class="slide-step-4">A tarefa está parada esperando uma de suas operações</li>
                <li class="slide-step-5">Quando uma operação está pronta</li>
                <li class="slide-step-6"><code>Task::wake()</code> é usado para notificá-la</li>
                <li class="slide-step-7">Um executador pode então executá-la</li>
            </ul>
        </li>
    </ul>

	<svg style="width: 20%" viewBox="0 0 1000 200">
		<defs>
			<g id="arrow-head">
				<path d="M-20 -20 L0 0 L-20 20"/>
			</g>
			<g id="mini-arrow-head">
				<path d="M-8 -8 L0 0 L-8 8"/>
			</g>
            <g id="thread">
                <path d="M0 0 q 10 10 -10 20 t 0 20 0 20 0 20 0 20 0 20 0 20"/>
            </g>
            <g id="task">
                <rect x="-25" y="-25" width="50" height="50"/>
            </g>
            <g id="future">
                <circle cx="0" cy="0" r="10"/>
            </g>
            <g id="executor">
                <rect x="-45" y="-45" width="90" height="90" rx="20" ry="20"/>
            </g>
            <g id="hide-task">
                <rect style="stroke: none; fill: white" x="-30" y="-30" width="60" height="60"/>
            </g>
		</defs>

        <g
            transform="translate(100, 50)"
            style="fill: none; stroke: black; stroke-width: 3"
            class="slide-step-1"
            >
            <use xlink:href="#task" class="slide-step-1" x="120" y="20"/>
            <use xlink:href="#future" class="slide-step-3" x="120" y="20"/>

            <g
                class="slide-step-4"
                style="stroke: red"
                >
                <use xlink:href="#hide-task" x="120" y="20"/>
                <use xlink:href="#task" x="120" y="20"/>
                <use xlink:href="#future" x="120" y="20"/>
            </g>

            <g
                class="slide-step-5"
                >
                <use xlink:href="#hide-task" x="120" y="20"/>
                <use xlink:href="#task" style="stroke: red" x="120" y="20"/>
                <use xlink:href="#future" style="stroke: green" x="120" y="20"/>
            </g>

            <g
                class="slide-step-6"
                >
                <use xlink:href="#hide-task" x="120" y="20"/>
                <use xlink:href="#task" style="stroke: blue" x="120" y="20"/>
                <use xlink:href="#future" style="stroke: green" x="120" y="20"/>
            </g>

            <g
                class="slide-step-7"
                >
                <use xlink:href="#hide-task" x="120" y="20"/>
                <use xlink:href="#executor" style="stroke: black" x="120" y="20"/>
                <use xlink:href="#task" style="stroke: green" x="120" y="20"/>
                <use xlink:href="#future" style="stroke: green" x="120" y="20"/>
            </g>
        </g>
    </svg>

    <ul>
        <li class="slide-step-8"><code>futures::task::current()</code> retorna a <code>Task</code> para acessar a tarefa atual</li>
    </ul>

	<svg style="width: 20%" viewBox="0 0 1000 200">
        <g
            class="slide-step-8"
            style="fill: none; stroke: black; stroke-width: 3"
            >
            <use xlink:href="#thread" x="100" y="20"/>
            <g
                style="stroke: gray; stroke-width: 10"
                transform="translate(230,80)"
                >
                <use xlink:href="#arrow-head" x="0" y="0"/>
                <line x1="0" y1="0" x2="-100" y2="0"/>
            </g>
            <use xlink:href="#task" x="300" y="80"/>
        </g>
    </svg>
</div>
